# Clicker Clicker Clicker

日常の作業(タイピングとクリック)がそのままゲームの戦力になる、新感覚の自動戦闘ゲーム!

## 特徴

- **キーボードでタイプ** → 弱いユニット生成
- **マウスでクリック** → 中級ユニット生成
- **1分経過** → 強力ユニット自動生成
- **グローバル入力フック** → バックグラウンドでもユニット生成
- **ドット絵スタイル** → レトロなピクセルアートデザイン
- **自動戦闘** → 生成したユニットが自動で戦闘

## 技術スタック

- **Tauri 2.0** - デスクトップアプリケーションフレームワーク
- **Rust** - バックエンド（ゲームロジック、入力フック）
- **TypeScript + Vite** - フロントエンド
- **HTML Canvas** - ドット絵レンダリング

## 必要要件

- Node.js (v18以上)
- Rust (最新安定版)
- npm または pnpm

## セットアップ

```bash
# 依存関係のインストール
npm install

# 開発モードで起動
npm run tauri dev

# ビルド
npm run tauri build
```

## ゲームの遊び方

### 基本操作

1. **ユニット生成**: パソコンで通常通り作業するだけ！
   - キーボードを1回タイプ → 小型ユニット生成
   - マウスを1回クリック → 中型ユニット生成
   - 1分経過 → 大型ユニット自動生成

2. **メニューを開く**: 画面右上の「MENU」ボタンをクリック

3. **強化**: メニューから各種アップグレードを購入
   - 攻撃力
   - HP（体力）
   - 速度
   - コイン獲得率
   - 基地HP

### 勝利条件

- 敵基地のHPを0にする
- 自分の基地が破壊される前にクリア

### ステージ進行

- ステージクリアで自動的に次のステージへ
- ステージが進むにつれて敵が強化される
- クリア報酬としてコインを獲得

## 実装済み機能

✅ グローバル入力フック（キーボード・マウス）  
✅ 3種類のユニット（小・中・大）  
✅ 自動戦闘システム  
✅ 敵AI（自動スポーン、ターゲティング）  
✅ ステージ進行システム  
✅ コイン経済システム  
✅ アップグレードショップ  
✅ ドット絵レンダリング  
✅ HPバー表示  
✅ リアルタイムUI更新  

## 今後の拡張予定

- [ ] データ永続化（セーブ・ロード機能）
- [ ] 自動購入モード
- [ ] 町（タウン）システム
- [ ] エンドレスモード
- [ ] マルチプレイヤーモード
- [ ] BGM・効果音
- [ ] より詳細なユニットタイプ
- [ ] ボスステージ

## トラブルシューティング

### 入力フックが動作しない

Windowsの場合、管理者権限で実行する必要がある場合があります。

### ビルドエラー

Rustの依存関係を再取得:
```bash
cd src-tauri
cargo clean
cargo build
```

## プロジェクト構造

```
clicker-game/
├── src/               # フロントエンド (TypeScript)
│   ├── main.ts       # メインロジック
│   └── styles.css    # スタイル
├── src-tauri/        # バックエンド (Rust)
│   └── src/
│       ├── lib.rs       # メインエントリーポイント
│       ├── game.rs      # ゲームロジック
│       └── input_hook.rs # グローバル入力フック
└── index.html        # HTML
```

## アーキテクチャ

- **入力キャプチャ**: `rdev`クレートでグローバル入力をキャプチャ
- **ゲームループ**: Rustバックエンドで60FPS固定
- **通信**: Tauriのイベントシステムで状態をフロントエンドに送信
- **レンダリング**: HTML5 CanvasでピクセルアートをCPU描画

## Recommended IDE Setup

- [VS Code](https://code.visualstudio.com/) + [Tauri](https://marketplace.visualstudio.com/items?itemName=tauri-apps.tauri-vscode) + [rust-analyzer](https://marketplace.visualstudio.com/items?itemName=rust-lang.rust-analyzer)

---

Enjoy playing! 🎮
